{
  "version": 3,
  "sources": ["../src/Main.generated.ts", "../src/Main.ts", "../src/BoardManager.ts"],
  "sourcesContent": ["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n\n\n/**\n * Scene.ls\n */\nexport class MainBase extends Laya.Scene {\n    public Board: Laya.List;\n}\n\n", "var __decorate = __$decorate('7bad1742-6eed-4d8d-81c0-501dc5bf03d6', '../src/Main.ts');\nimport { MainBase } from \"./Main.generated\";\r\nconst { regClass, property } = Laya;\r\nlet Main = class Main extends MainBase {\r\n};\r\nMain = __decorate([\r\n    regClass()\r\n], Main);\r\nexport { Main };\r\n", "var __decorate = __$decorate('9df8c109-eeb5-455d-be8f-39ca89ac47fb', '../src/BoardManager.ts');\nconst { regClass, property } = Laya;\r\nlet BoardManager = class BoardManager extends Laya.Script {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.col = 12;\r\n        this.row = 8;\r\n        this.imgWidth = 36;\r\n        this.imgHeight = 36;\r\n        this.selected = [];\r\n    }\r\n    onEnable() {\r\n        this.board = this.owner;\r\n        this.board.repeatX = this.col;\r\n        this.board.repeatY = this.row;\r\n        this.board.width = this.col * this.imgWidth + (this.col - 1) * this.board.spaceY;\r\n        this.board.height = this.row * this.imgHeight + (this.row - 1) * this.board.spaceY;\r\n        this.board.array = [\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": ''\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/5.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": ''\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/7.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/8.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": ''\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/7.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/8.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": ''\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/7.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/8.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/9.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/4.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/4.png'\r\n                }\r\n            },\r\n            {\r\n                \"listItemImg\": {\r\n                    \"skin\": 'resources/farm/4.png'\r\n                }\r\n            },\r\n        ];\r\n        this.board.selectHandler = Laya.Handler.create(this, this.onItemSelect, null, false);\r\n    }\r\n    onItemSelect(idx) {\r\n        const item = this.board.array[idx];\r\n        if (item.listItemImg.skin) {\r\n            this.selected.push(idx);\r\n            if (this.selected.length > 2) {\r\n                const recoveIdx = this.selected.shift();\r\n                const item = this.board.array[recoveIdx];\r\n                item.listItemImg.skin = item.listItemImg.skin.replace(/(\\d)_touch/, '$1');\r\n            }\r\n            item.listItemImg.skin = item.listItemImg.skin.replace(/(\\d)/, '$1_touch');\r\n            if (this.selected.length === 2 && this.canRemove(this.selected[0], this.selected[1])) {\r\n                // \u6D88\u9664\r\n                this.removeItems();\r\n            }\r\n        }\r\n    }\r\n    // \u662F\u5426\u8FDE\u901A\r\n    canRemove(src, dest) {\r\n        if (this.getImg(src) === this.getImg(dest))\r\n            return true;\r\n    }\r\n    getImg(idx) {\r\n        return this.board.array[idx].listItemImg.skin;\r\n    }\r\n    removeItems() {\r\n        for (let i = 0; i < this.selected.length; i++) {\r\n            this.board.array[this.selected[i]].listItemImg.skin = '';\r\n        }\r\n        this.selected = [];\r\n    }\r\n};\r\n__decorate([\r\n    property(),\r\n    __metadata(\"design:type\", Number)\r\n], BoardManager.prototype, \"col\", void 0);\r\n__decorate([\r\n    property(),\r\n    __metadata(\"design:type\", Number)\r\n], BoardManager.prototype, \"row\", void 0);\r\nBoardManager = __decorate([\r\n    regClass()\r\n], BoardManager);\r\nexport { BoardManager };\r\n"],
  "mappings": "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",
  "names": ["Main", "__decorate", "regClass", "property", "BoardManager", "item"]
}
